<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ù„Ø¹Ø¨Ø© Ù…Ø§Ø±ÙŠÙˆ Ø§Ù„Ø¨Ø³ÙŠØ·Ø©</title>
    <style>
        /* 1. ØªØµÙ…ÙŠÙ… Ø§Ù„ØµÙØ­Ø© ÙˆØ§Ù„Ù„Ø¹Ø¨Ø© */
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #222;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            flex-direction: column;
        }

        h2 {
            color: white;
            margin-bottom: 10px;
            text-align: center;
        }

        #game {
            width: 100%;
            max-width: 600px;
            height: 250px;
            border: 2px solid #000;
            background: linear-gradient(#87CEEB, #E0F6FF); /* Ù„ÙˆÙ† Ø§Ù„Ø³Ù…Ø§Ø¡ */
            position: relative;
            overflow: hidden; /* Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø®Ø§Ø±Ø¬ Ø§Ù„Ø¥Ø·Ø§Ø± */
            border-radius: 10px;
        }

        /* 2. Ø´Ø®ØµÙŠØ© Ø§Ù„Ù„Ø§Ø¹Ø¨ (Ù…Ø§Ø±ÙŠÙˆ) */
        #character {
            width: 40px;
            height: 40px;
            background-color: red;
            position: absolute;
            bottom: 0;
            left: 20px; /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± */
            border-radius: 5px;
            border: 2px solid #8B0000;
        }

        /* Ø­Ø±ÙƒØ© Ø§Ù„Ù‚ÙØ² */
        .animate {
            animation: jump 0.5s linear;
        }

        @keyframes jump {
            0% { bottom: 0; }
            30% { bottom: 100px; } /* Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù‚ÙØ²Ø© */
            70% { bottom: 100px; }
            100% { bottom: 0; }
        }

        /* 3. Ø§Ù„Ø¹Ù‚Ø¨Ø© (Ø§Ù„Ø¹Ø¯Ùˆ) */
        #block {
            width: 30px;
            height: 30px;
            background-color: brown;
            position: absolute;
            bottom: 0;
            right: -40px; /* ÙŠØ¨Ø¯Ø£ Ø®Ø§Ø±Ø¬ Ø§Ù„Ø´Ø§Ø´Ø© Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† */
            border-radius: 5px;
            border: 2px solid #481919;
            animation: blockMove 1.5s infinite linear; /* Ø³Ø±Ø¹Ø© Ø§Ù„Ø­Ø±ÙƒØ© */
        }

        @keyframes blockMove {
            0% { right: -40px; }
            100% { right: 100%; } /* ÙŠØªØ­Ø±Ùƒ Ø­ØªÙ‰ ÙŠØ®Ø±Ø¬ Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± */
        }

        /* 4. Ø§Ù„Ø£Ø±Ø¶ÙŠØ© */
        #ground {
            width: 100%;
            height: 20px;
            background-color: green;
            position: absolute;
            bottom: 0;
            z-index: 10;
            border-top: 5px solid #006400;
        }

        /* 5. Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© */
        #score {
            position: absolute;
            top: 10px;
            left: 20px;
            font-size: 20px;
            font-weight: bold;
            color: #333;
            z-index: 20;
        }

        /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø³Ø§Ø±Ø© */
        #message {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            z-index: 30;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: red;
            color: white;
            border: none;
            border-radius: 5px;
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <h2>Ù„Ø¹Ø¨Ø© Ø§Ù„Ù‚ÙØ² - Ø§Ø¶ØºØ· Ù„Ù„Ù‚ÙØ²</h2>
    
    <div id="game" onclick="jump()">
        <div id="score">Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0</div>
        <div id="character"></div>
        <div id="block"></div>
        <div id="ground"></div>
        
        <div id="message">
            <h3>Ø®Ø³Ø±Øª! ğŸ˜¢</h3>
            <p>Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: <span id="finalScore">0</span></p>
            <button onclick="location.reload()">Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</button>
        </div>
    </div>

    <script>
        var character = document.getElementById("character");
        var block = document.getElementById("block");
        var scoreSpan = document.getElementById("score");
        var finalScoreSpan = document.getElementById("finalScore");
        var messageBox = document.getElementById("message");
        var counter = 0;
        var isDead = false;

        // Ø¯Ø§Ù„Ø© Ø§Ù„Ù‚ÙØ²
        function jump() {
            if (isDead) return; // Ù„Ø§ ØªÙ‚ÙØ² Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
            
            if (character.classList != "animate") {
                character.classList.add("animate");
            }
            // Ø¥Ø²Ø§Ù„Ø© ÙƒÙ„Ø§Ø³ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù‚ÙØ²Ø© Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù‚ÙØ² Ù…Ø¬Ø¯Ø¯Ø§Ù‹
            setTimeout(function() {
                character.classList.remove("animate");
            }, 500);
        }

        // Ø¯Ø¹Ù… Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ (Ø§Ù„Ù…Ø³Ø§ÙØ© ÙˆØ§Ù„Ø³Ù‡Ù… Ù„Ù„Ø£Ø¹Ù„Ù‰)
        document.body.onkeydown = function(e) {
            if (e.keyCode == 32 || e.keyCode == 38) {
                jump();
            }
        }

        // Ø­Ù„Ù‚Ø© ÙØ­Øµ Ø§Ù„ØªØµØ§Ø¯Ù… (ØªØ¹Ù…Ù„ ÙƒÙ„ 10 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©)
        var checkDead = setInterval(function() {
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙŠ (Ù„Ù…Ø¹Ø±ÙØ© Ø¥Ø°Ø§ ÙƒØ§Ù† ÙÙŠ Ø§Ù„Ù‡ÙˆØ§Ø¡)
            var characterTop = parseInt(window.getComputedStyle(character).getPropertyValue("top"));
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ù‚Ø¨Ø© (Ù„Ù…Ø¹Ø±ÙØ© Ù‚Ø±Ø¨Ù‡Ø§ Ù…Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨)
            var blockLeft = parseInt(window.getComputedStyle(block).getPropertyValue("left")); // Ø§Ø³ØªØ®Ø¯Ù…Ù†Ø§ Left Ù„Ø£Ù†Ù†Ø§ Ù†Ø­Ø³Ø¨ Ù…Ù† ÙŠØ³Ø§Ø± Ø§Ù„Ø´Ø§Ø´Ø©

            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø§Ø´Ø© Ù„Ø¶Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
            var gameWidth = document.getElementById("game").offsetWidth;
            
            // Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØµØ§Ø¯Ù…:
            // 1. Ø§Ù„Ø¹Ù‚Ø¨Ø© ÙˆØµÙ„Øª Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨ (Ø¨ÙŠÙ† 0 Ùˆ 40 Ø¨ÙƒØ³Ù„ Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø±)
            // 2. Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù…Ù„Ø§Ù…Ø³ Ù„Ù„Ø£Ø±Ø¶ (Top Ø£ÙƒØ¨Ø± Ù…Ù† 210 ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ØŒ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù„Ø¹Ø¨Ø©)
            // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù„Ø¹Ø¨Ø© 250ØŒ Ø§Ù„Ù„Ø§Ø¹Ø¨ 40ØŒ Ø§Ù„Ø£Ø±Ø¶ 0. Ø¥Ø°Ù† Ø§Ù„Ø£Ø±Ø¶ Ø¹Ù†Ø¯ Top = 210
            
            // Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©: Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¹Ù‚Ø¨Ø© Ù‚Ø±ÙŠØ¨Ø© Ø¬Ø¯Ø§Ù‹ Ù…Ù† Ø§Ù„ÙŠØ³Ø§Ø± (ØªØ­Øª Ø§Ù„Ù„Ø§Ø¹Ø¨) ÙˆØ§Ù„Ù„Ø§Ø¹Ø¨ Ù„ÙŠØ³ ÙÙŠ Ù‚ÙØ²Ø© Ø¹Ø§Ù„ÙŠØ©
            if (blockLeft < 40 && blockLeft > 0 && characterTop >= 210) {
                
                // Ø¥ÙŠÙ‚Ø§Ù Ø­Ø±ÙƒØ© Ø§Ù„Ø¹Ù‚Ø¨Ø©
                block.style.animation = "none";
                block.style.display = "none";
                
                isDead = true;
                
                // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø³Ø§Ø±Ø©
                messageBox.style.display = "block";
                finalScoreSpan.innerText = Math.floor(counter / 100);
                
                clearInterval(checkDead); // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙØ­Øµ
            } else {
                // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¥Ø°Ø§ Ù„Ù… ÙŠØ®Ø³Ø±
                if(!isDead) {
                    counter++;
                    scoreSpan.innerText = "Ø§Ù„Ù†ØªÙŠØ¬Ø©: " + Math.floor(counter / 100);
                }
            }
        }, 10);
    </script>
</body>
</html>
